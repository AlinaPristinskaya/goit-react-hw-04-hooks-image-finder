{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","API/API.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","galleryName","setGalleryName","className","s","SearchForm","event","preventDefault","trim","toast","type","SearchForm_button","SearchForm_button_label","onChange","currentTarget","value","SearchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","imageSrc","openModalCard","src","alt","onClick","ImageGallery","data","modalCard","map","id","webformatURL","largeImageURL","api","fetchAPI","page","query","fetch","then","res","json","Button","LoaderSpiner","styles","Loader","color","height","width","modalRoot","document","querySelector","Modal","children","useEffect","window","addEventListener","handelKeyDown","removeEventListener","e","code","createPortal","Overlay","App","loading","setLoading","error","setError","dataSet","setDataSet","setPage","visibleButton","setVisibleButton","visibleModal","setVisibleModal","setLargeImageURL","getFetch","API","hits","length","prev","catch","finally","scroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","name","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12590b74.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1V330\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2GVPk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1A_tS\",\"Modal\":\"Modal_Modal__1j3dd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3tF_V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__278oA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__BPG5q\"};","import React,{useState} from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css'\r\n\r\nfunction Searchbar({onSubmit}){\r\n  const [galleryName, setGalleryName]=useState('');\r\n\r\n  const handelChange=event=>{\r\n    setGalleryName(event.currentTarget.value)\r\n  }\r\n\r\n  const handelSubmit=event=>{\r\n  event.preventDefault();\r\n  if(galleryName.trim() === ''){\r\n      toast('Введите что хотите найти');\r\n      return\r\n  }\r\n  onSubmit(galleryName);\r\n  setGalleryName('');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n       <form className={s.SearchForm} onSubmit={handelSubmit}>\r\n       <button type=\"submit\" className={s.SearchForm_button}>\r\n       <span className={s.SearchForm_button_label}>Search</span>\r\n       </button>\r\n\r\n       <input\r\n        onChange={handelChange}\r\n        value={galleryName}\r\n        className={s.SearchForm_input}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"/>\r\n       </form>\r\n      </header> \r\n\r\n    </>\r\n  );\r\n\r\n}\r\n/* class Searchbar extends Component {\r\n    \r\n    state = {\r\n      galleryName:''\r\n    }\r\n    \r\n    handelChange=event=>{\r\n        this.setState({galleryName:event.currentTarget.value})\r\n    }\r\n    handelSubmit=event=>{\r\n        event.preventDefault();\r\n        if(this.state.galleryName.trim() === ''){\r\n            toast('Введите что хотите найти');\r\n            return\r\n        }\r\n        this.props.onSubmit(this.state.galleryName);\r\n        this.setState({galleryName:''});\r\n    }\r\n   \r\n  \r\n    render() {\r\n        \r\n         return (\r\n        <>\r\n          <header className={s.Searchbar}>\r\n           <form className={s.SearchForm} onSubmit={this.handelSubmit}>\r\n           <button type=\"submit\" className={s.SearchForm_button}>\r\n           <span className={s.SearchForm_button_label}>Search</span>\r\n           </button>\r\n           <input\r\n            onChange={this.handelChange}\r\n            value={this.state.galleryName}\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"/>\r\n          </form>\r\n        </header> \r\n        </>\r\n      );\r\n  \r\n    }} */\r\n    export default Searchbar;","import s from './ImageGalleryItem.module.css'\r\n\r\n\r\n const ImageGalleryItem = ({ imageSrc, openModalCard }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        className={s[\"ImageGalleryItem-image\"]}\r\n        onClick={openModalCard}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from './ImageGallery.module.css';\r\n\r\n\r\nexport default function ImageGallery({data,modalCard}){\r\n  return(\r\n          <div>\r\n             <ul className={s.ImageGallery}>{data.map(({id,webformatURL,largeImageURL})=>\r\n                 {const openModalCard = () => modalCard(largeImageURL);\r\n                 return (\r\n                    <ImageGalleryItem\r\n                      key={id}\r\n                      imageSrc={webformatURL}\r\n                      openModalCard={openModalCard}/>)})}\r\n              </ul> \r\n         </div>)\r\n        \r\n    \r\n}\r\n    \r\n            \r\n            \r\n\r\n        \r\n    \r\n        \r\n        \r\n    \r\n        \r\n      \r\n","\r\nfunction fetchAPI(page,query) {\r\n    \r\n   return fetch(`https://pixabay.com/api/?key=21851027-176a1d26dd1c513dea811d525&q=${query}&image_type=photo&pretty=true&page=1&per_page=12&page=${page}`)\r\n    .then(res=>res.json())\r\n}\r\nconst api={\r\n    fetchAPI,\r\n}\r\n export default api;\r\n ","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpiner = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpiner;","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({onClick,children}){\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handelKeyDown)\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handelKeyDown)\r\n    };\r\n  });\r\n\r\n  const handelKeyDown=e=>{\r\n    if(e.code==='Escape'){\r\n        onClick() \r\n     }\r\n\r\n  }\r\n  return createPortal(\r\n    <div className={s.Overlay}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n\r\n}\r\n\r\n/* class Modal extends Component {\r\n  componentWillMount(){\r\n      window.addEventListener(\"keydown\",this.handelKeyDown)\r\n  }\r\n  componentWillUnmount(){\r\n      window.removeEventListener(\"keydown\",this.handelKeyDown)\r\n  }\r\n \r\n  handelKeyDown=e=>{\r\n    if(e.code==='Escape'){\r\n        this.props.onClick() \r\n     }\r\n  }\r\n  \r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n}; */\r\n\r\nexport default Modal;\r\n","import React,{useEffect, useState} from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Searchbar from './Components/Searchbar';\r\nimport ImageGallery from './Components/ImageGallery';\r\nimport API from './API';\r\nimport Button from './Components/Button';\r\nimport { toast } from \"react-toastify\";\r\nimport Loader from './Components/Loader';\r\nimport Modal from './Components/Modal'\r\n\r\nfunction App(){\r\n  const [galleryName,setGalleryName]=useState('');\r\n  const [loading,setLoading]=useState(false);\r\n  const [error,setError]=useState(false);\r\n  const [dataSet,setDataSet]=useState(null);\r\n  const [page,setPage]=useState(1);\r\n  const [visibleButton,setVisibleButton]=useState(false);\r\n  const [visibleModal, setVisibleModal]=useState(false);\r\n  const [largeImageURL,setLargeImageURL]=useState(null);\r\n  useEffect(() => {\r\n    setPage(1);\r\n    setDataSet([])\r\n  }, [galleryName]);\r\n\r\n  useEffect(() => {\r\n    if(galleryName===''&&page===1){\r\n      return\r\n     \r\n    }\r\n    getFetch();    \r\n   // eslint-disable-next-line \r\n  }, [galleryName,page]);\r\n\r\n  const getFetch=()=>{\r\n    setLoading(true);\r\n    setVisibleButton(false);\r\n      \r\n    API.fetchAPI(page,galleryName)\r\n     .then(data=>{\r\n          if(data.hits.length===0){ \r\n          toast.error('Ничего не найденно по вашему запросу.Введите коректный запрос')\r\n       }\r\n       if(data.hits.length!==12){\r\n          toast('Это последние картинки');\r\n          \r\n       }\r\n       setDataSet(prev=>([...prev,...data.hits]));\r\n       setVisibleButton(true);\r\n    })      \r\n    .catch(error=>setError(error))    \r\n    .finally(()=>{\r\n      setLoading(false);\r\n      scroll(); \r\n      })\r\n  }\r\n\r\n  const scroll=()=>{\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n  const handelSearchbarSubmit=name=>{\r\n    setGalleryName(name)\r\n    } \r\n  \r\n  const handelButton=()=>{\r\n    setPage(prev=>(prev+1))\r\n           \r\n    }\r\n  \r\n  const  toggleModal = () =>\r\n       setVisibleModal(prev=>(!prev))\r\n      \r\n  \r\n  const  modalCard = (largeImageURL) => {\r\n      setLargeImageURL(largeImageURL);\r\n      toggleModal();\r\n    }\r\n  return (\r\n      <>\r\n        <Searchbar onSubmit={handelSearchbarSubmit}/>\r\n        {error&&<div>Произошла ошибка при запросе</div>}\r\n        {loading&&<Loader/>}\r\n        {dataSet &&<ImageGallery data={dataSet} modalCard={modalCard}/>} \r\n        {visibleButton&&<div><Button onClick={handelButton}/></div>}           \r\n        <ToastContainer autoClose={3000} />\r\n        {visibleModal && (<Modal onClick={toggleModal}><img src={largeImageURL} alt=\"\" /></Modal>)}\r\n      </>\r\n      \r\n )\r\n\r\n}\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3J29v\",\"SearchForm\":\"Searchbar_SearchForm__A70x0\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2D0xK\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3VBYI\",\"SearchForm_input\":\"Searchbar_SearchForm_input__lPkys\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1lcqy\"};"],"sourceRoot":""}